---
title: 力扣数据库题目(2)
date: 2019-11-08 22:23:28
tags:
---
# 181.超过经理收入的员工

### 题目描述

>Employee 表包含所有员工，他们的经理也属于员工。每个员工都有一个 Id，此外还有一列对应员工的经理的 Id。
>
>+----+-------+--------+-----------+
>| Id | Name  | Salary | ManagerId |
>+----+-------+--------+-----------+
>| 1  | Joe   | 70000  | 3         |
>| 2  | Henry | 80000  | 4         |
>| 3  | Sam   | 60000  | NULL      |
>| 4  | Max   | 90000  | NULL      |
>+----+-------+--------+-----------+
>给定 Employee 表，编写一个 SQL 查询，该查询可以获取收入超过他们经理的员工的姓名。在上面的表格中，Joe 是唯一一个收入超过他的经理的员工。
>
>+----------+
>| Employee |
>+----------+
>| Joe      |
>+----------+
>
>来源：力扣（LeetCode）
>链接：https://leetcode-cn.com/problems/employees-earning-more-than-their-managers
>著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

### 解题思路

>1. employee 包含所有员工，经理也包含在员工表里 :需要查两次employee表,优化性能考虑，选择内连接inner join 进行连接查询
### 代码展示

```sql
select a.name as Employee 
from employee a inner join employee b om a.managerId=b.Id
where a.salary>b.salary
```

### 总结

> 考察点
>
> 1. 对于单表查询的最优解，首先，单表可以使用很多种查询方式，in查询，外联，内连查询等等
>
>    in查询：查询数据库所有符合条件的，查询速度太慢，不考虑（开发也不建议使用in查询）数据量大可能要查询很久
>
>    连接查询：连接查询可以使用很多查询方式，left join 会展示左表全部数据，而inner join 只会展示当前要查询的数据，效率最好，所以考虑inner join

> 提交代码后发现力扣还有些骚操作，不同的解题思路，还是挺不错的，就是没有考虑数据库的性能优化感兴趣的人可以去看看我这里贴上网址: [力扣解题思路]( https://leetcode-cn.com/problems/employees-earning-more-than-their-managers/solution/shi-yong-is-not-null-xian-qu-chu-yi-xie-bu-cun-zai/
)