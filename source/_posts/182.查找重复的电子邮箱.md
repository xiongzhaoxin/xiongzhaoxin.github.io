# 182.查找重复的电子邮箱

```sql
编写一个 SQL 查询，查找 Person 表中所有重复的电子邮箱。

示例：

+----+---------+
| Id | Email   |
+----+---------+
| 1  | a@b.com |
| 2  | c@d.com |
| 3  | a@b.com |
+----+---------+
根据以上输入，你的查询应返回以下结果：

+---------+
| Email   |
+---------+
| a@b.com |
+---------+
说明：所有电子邮箱都是小写字母。

来源：力扣（LeetCode）
链接：https://leetcode-cn.com/problems/duplicate-emails
著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。
```

**思路**

> 一道挺简单的题目，整体没啥难点，刚开始我想着是使用inner join 查内联表，后来发现一个跟简单的方法，我工作这么久没用过.....都快忘了，待会我两个都写上去，当做复习

```sql
select distinct a.Email   Email
from person a inner join person b on a.Email=b.Email
where a.id!=b.Id
```

**结果**

```
输入
{"headers": {"Person": ["Id", "Email"]}, "rows": {"Person": [[1, "a@b.com"], [2, "c@d.com"], [3, "a@b.com"]]}}
输出
{"headers":["Email"],"values":[["a@b.com"]]}
```

**另一种思路**

>可以使用group by 和 having 的组合方式来完成此题目的编写

```sql
select Email
from Person
group by Email
having count(Email) > 1
```

> 当然，优先使用第二种方式，来减少数据库压力
>
> 还有一点主意的地方那就是关键字的使用顺序
>
>  where>group by>having>order by 

### 总结

>本题考查sql关键字的使用特别是group by 和 having的组合使用，难度简单，有多种方式解决，但是在编写sql语句时，需要考虑数据库的查询压力问题。

